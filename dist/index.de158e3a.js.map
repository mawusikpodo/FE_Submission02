{"mappings":"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","sources":["src/main.js"],"sourcesContent":["let jwt = localStorage.getItem(\"jwt\");\r\njwt = JSON.parse(jwt)\r\nlet access_token = jwt['access_token']\r\nlet refresh_token = jwt['refresh_token']\r\nif (jwt == null) {\r\n    window.location.href = './login.html'\r\n}\r\nconst token = access_token\r\nfunction updateToken() {\r\n    const xhttp = new XMLHttpRequest();\r\n    xhttp.open(\"POST\", \"https://freddy.codesubmit.io/refresh\");\r\n    xhttp.setRequestHeader(\"Authorization\", \"Bearer \" + refresh_token);\r\n    xhttp.send(\r\n        // JSON.stringify({\r\n        //     \"refresh_token\": refresh_token,\r\n        // })\r\n    );\r\n    xhttp.onreadystatechange = function () {\r\n        if (this.readyState == 4) {\r\n            const objects = JSON.parse(this.responseText);\r\n\r\n            const token = Object.assign(jwt, objects);\r\n            console.log(token)\r\n            if (objects) {\r\n                localStorage.setItem(\"jwt\", JSON.stringify(token))\r\n            } else {\r\n                window.location.href = './login.html'\r\n            }\r\n        }\r\n    };\r\n    return false;\r\n}\r\n\r\nupdateToken();\r\n\r\nfunction loadDashboard() {\r\n    const xhttp = new XMLHttpRequest();\r\n    xhttp.open(\"GET\", \"https://freddy.codesubmit.io/dashboard\");\r\n    xhttp.setRequestHeader(\"Authorization\", \"Bearer \" + access_token);\r\n    xhttp.send();\r\n    xhttp.onreadystatechange = function () {\r\n        if (this.readyState == 4) {\r\n            const objects = JSON.parse(this.responseText);\r\n            const status = xhttp.status;\r\n            if (status === 0 || (status >= 200 && status < 400)) {\r\n\r\n                console.log(objects)\r\n                // const currentsales = document.getElementById(\"currentsales\")\r\n                const current_sales = objects.dashboard.sales_over_time_week[1].total\r\n                console.log(current_sales)\r\n                const last_week_sales = objects.dashboard.sales_over_time_week[2].total\r\n                console.log(last_week_sales)\r\n                const last_week_orders = objects.dashboard.sales_over_time_week[2].orders\r\n                console.log(last_week_orders)\r\n                document.getElementById(\"currentsales\").innerHTML = `$${objects.dashboard.sales_over_time_week[1].total}${' '}/${' '}${objects.dashboard.sales_over_time_week[1].orders}  orders`\r\n                document.querySelector(\"lastweeksales\").innerHTML = `$${objects.dashboard.sales_over_time_week[2].total}${' '} /${' '}${objects.dashboard.sales_over_time_week[2].orders}  orders`\r\n                document.querySelector(\"lastmonthsales\").innerHTML = `$${objects.dashboard.sales_over_time_week[3].total}${' '}/${' '}${objects.dashboard.sales_over_time_week[3].orders} orders`;;\r\n\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nloadDashboard();\r\n\r\n\r\nfunction logout() {\r\n    localStorage.removeItem(\"jwt\");\r\n    window.location.href = './login.html'\r\n}\r\n\r\n\r\n"],"names":[],"version":3,"file":"index.de158e3a.js.map","sourceRoot":"/__parcel_source_root/"}